type ConcurrentERC20_Approval {
  id: ID!
  owner: String!
  spender: String!
  value: BigInt!
}

type ConcurrentERC20_Transfer {
  id: ID!
  from: String!
  to: String!
  value: BigInt!
}

type TicketingCore_EventCreated {
  id: ID!
  eventId: BigInt!
  name: String!
  venue: String!
  timestamp: BigInt!
  organizer: String!
  tierCount: BigInt!
}

type TicketingCore_RevenueWithdrawn {
  id: ID!
  eventId: BigInt!
  organizer: String!
  amount: BigInt!
}

type TicketingCore_TicketPurchased {
  id: ID!
  eventId: BigInt!
  tierIdx: BigInt!
  buyer: String!
  tokenId: BigInt!
  price: BigInt!
}

type TicketingCore_TicketRefunded {
  id: ID!
  eventId: BigInt!
  tierIdx: BigInt!
  buyer: String!
  tokenId: BigInt!
  refundAmount: BigInt!
}

# Derived Analytics Entities
# These are computed and maintained by event handlers for fast queries

type EventStats {
  id: ID!
  eventId: BigInt!
  totalPurchases: Int!
  totalRefunds: Int!
  totalRevenue: BigInt!
  totalRefundAmount: BigInt!
  netRevenue: BigInt!
  revenueWithdrawn: BigInt!
}

type TierStats {
  id: ID!
  eventId: BigInt!
  tierIdx: BigInt!
  soldCount: Int!
  purchaseCount: Int!
  refundCount: Int!
  totalRevenue: BigInt!
  totalRefundAmount: BigInt!
}

type UserStats {
  id: ID!
  address: String!
  totalTicketsPurchased: Int!
  totalTicketsRefunded: Int!
  activeTickets: Int!
  totalSpent: BigInt!
  totalRefunded: BigInt!
}

type OrganizerStats {
  id: ID!
  address: String!
  eventsCreated: Int!
  totalRevenue: BigInt!
  totalWithdrawn: BigInt!
}

type PlatformStats {
  id: ID!
  totalEvents: Int!
  totalTicketsSold: Int!
  totalRefunds: Int!
  totalRevenue: BigInt!
  totalRefundAmount: BigInt!
}
